<!DOCTYPE html>
<html lang="en">
	<head>
		<title>erisdiscord@github</title>
		
		<script type="text/javascript" src="js/ext/jquery-1.4.2.min.js"></script>
		<script type="text/javascript" src="js/ext/jquery-ui-1.8.custom.min.js"></script>
		<script type="text/javascript" src="js/ext/jquery.tmpl.js"></script>
		<script type="text/javascript" src="js/ext/jquery.jtwitter.min.js"></script>
		<script type="text/javascript" src="js/ext/showdown.js"></script>
		
		<script type="text/javascript" src="js/lib/github.js"></script>
		
		<script type="text/javascript">
			var TWITTER_USER = 'erisdev';
			var GITHUB_USER  = 'erisdiscord';
			
			$(function() {
				$('#sections').tabs({
					cache: true,
					spinner: $('#spinner-tmpl').text()
				}).bind('tabsload', function(event, ui) {
					$(ui.panel).find('a.gist-link').each(function(i, link) {
						var match = $(link).attr('href').match(/^http:\/\/gist\.github\.com\/(\d+)$/i);
						GitHub.call('gist:' + match[1], function(data) {
							$(link).replaceWith(data.div);
						})
					});
				});
				
				GitHub.call('user/show/' + GITHUB_USER, function(data) {
					$('#profile-tmpl').render(data.user).appendTo($('#overview .profile').empty());
				});
				
				GitHub.call('repos/show/' + GITHUB_USER, function(data) {
					$('#repository-tmpl').render(data.repositories).appendTo($('#overview .repositories').empty());
				});
				
				$.jTwitter(TWITTER_USER, function(tweets) {
					$('#tweet-tmpl').render(tweets).appendTo($('#overview .twitter').empty());
				})
				
			});
			
			function autolink(text) {
				return text.replace(
					/https?:\/\/(?:\w+:{0,1}\w*@)?\S+(?::[0-9]+)?(\/|\/[\w#!:.?+=&%@!\-\/])?/ig,
					'<a href="$&">$&</a>'
				);
			}
		</script>
		
		<script id="spinner-tmpl" type="text/html">
			Loading&hellip;
		</script>
		
		<script id="repository-tmpl" type="text/html">
			<li><a href="{%= url %}">{%= name %}</a> &ndash; {%= description %}</li>
		</script>
		
		<script id="profile-tmpl" type="text/html">
			<img class="gravatar" src="http://www.gravatar.com/avatar/{%= gravatar_id %}?s=80" alt="[gravatar]">
			<ul>
				<li class="name"><a href="mailto:{%= email %}">{%= name %}</a></li>
				<li class="company">{%= company %}</li>
				<li class="location">{%= location %}</li>
			</ul>
		</script>
		
		<script id="tweet-tmpl" type="text/html">
			<li id="tweet_{%= id %}">
				{%= autolink(text) %}
				(<a href="http://twitter.com/{%= user.screen_name %}/status/{%= id %}">view</a>)
			</li>
		</script>
		
		<style type="text/css" media="screen">
			@import url(themes/dot-luv/jquery-ui-1.8.custom.css);
			@import url(css/layout.css);
			@import url(css/fonts.css);
			@import url(css/colors.css);
			@import url(css/greebles.css);
			@import url(css/gist.css);
			@import url(css/scroll.css);
		</style>
		
	</head>
	<body>
		<h1>erisdiscord@github</h1>
		<div id="sections">
			<ul>
				<li><a href="#overview">overview</a></li>
				<li><a href="projects/gosu-tmx" title="gosu-tmx">gosu-tmx</a></li>
			</ul>
			
			<!-- begin overview -->
			<div id="overview">
				<h2>overview</h2>
				
				<div class="column">
					<h3>profile</h3>
					<div class="profile">
						<a href="http://github.com/erisdiscord/">my github profile</a>
					</div>
					
					<h3>repositories</h3>
					<ul class="repositories">
						<li><a href="http://github.com/erisdiscord/repositories/">repositories</a></li>
					</ul>
				</div>
					
				<div class="column">
					<h3>twitter</h3>
					<ul class="twitter">
					</ul>
				</div>
				
			</div>
			<!-- end overview -->
			
			<div id="gosu-tmx">
			</div>
			
		</div>
		
	</body>
</html>
